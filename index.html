<html>
<head> </head>
<body>
<!-- FORM -->
<form id="lead-form">
  <label>First Name</label>
  <input type="text" name="firstname" required>

  <label>Last Name</label>
  <input type="text" name="lastname" required>

  <label>Email</label>
  <input type="email" name="email" required>

  <!-- Hidden UTM Fields -->
  <input type="hidden" name="gclid" id="gclid">
  <input type="hidden" name="utm_source" id="utm_source">
  <input type="hidden" name="utm_medium" id="utm_medium">
  <input type="hidden" name="utm_campaign" id="utm_campaign">

  <button type="submit">Submit</button>
</form>

<!-- SCRIPT TO CAPTURE UTM PARAMETERS -->
<script>
 function utmParameters() 
{
  var utmParameters = {};
  var queryParameters = location.search.substring(1).split('&'); // value {'gclid=123abc', 'utm_source=google', 'utm_medium=cpc', 'utm_campaign=test_campaign' }

  for (var f = 0; f < queryParameters.length; f++)
  {
    var param = queryParameters[f].split('=');

    if (param[0].startWith('utm_'))
    {
      utmParameters[param[0]] = decodeURIComponent(param[1]);
    }
  }
  document.addEventListener("DOMContentLoaded", utmParameters);
}
</script>

</body>

</html>
